<!DOCTYPE html>
<html lang="en-US">
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta charset="utf-8">
		<title>Routine annotations - AutoProof</title>
		<link rel="stylesheet" href="/trunk/assets/css/main.css">
		<link rel="stylesheet" href="/trunk/assets/css/highlight.css">
	</head>
	<body class="flex">
		<div class="flex-1 flex flex-row-reverse">
			
				<nav class="w-[16rem]">
					<div class="h-20 bg-gradient-to-tl from-red-50"></div>
					<ul class="bg-gradient-to-bl from-red-50 pb-6">
						
							<li>
								
									<a
										href="/trunk/tutorial/index.html"
													class="min-h-8 pl-4 block flex items-center hover:bg-red-100"
									>
										Tutorial
									</a>
								
							</li>
						
							<li>
								
									<a
										href="/trunk/tutorial/verification-of-basic-properties.html"
													class="min-h-8 pl-4 block flex items-center hover:bg-red-100"
									>
										Verification of basic properties
									</a>
								
							</li>
						
							<li>
								
									<a
										href="/trunk/tutorial/input-language.html"
													class="min-h-8 pl-4 block flex items-center hover:bg-red-100"
									>
										Input language
									</a>
								
							</li>
						
							<li>
								
									<a
										href="/trunk/tutorial/basic-properties.html"
													class="min-h-8 pl-4 block flex items-center hover:bg-red-100"
									>
										Basic properties
									</a>
								
							</li>
						
							<li>
								
									<a
										href="/trunk/tutorial/models.html"
													class="min-h-8 pl-4 block flex items-center hover:bg-red-100"
									>
										Models
									</a>
								
							</li>
						
							<li>
								
									<a
										href="/trunk/tutorial/framing.html"
													class="min-h-8 pl-4 block flex items-center hover:bg-red-100"
									>
										Framing
									</a>
								
							</li>
						
							<li>
								
									<span class="min-h-8 pl-4 flex items-center bg-red-100 align-middle">Routine annotations</span>
								
							</li>
						
							<li>
								
									<a
										href="/trunk/tutorial/debugging-verification.html"
													class="min-h-8 pl-4 block flex items-center hover:bg-red-100"
									>
										Debugging verification
									</a>
								
							</li>
						
							<li>
								
									<a
										href="/trunk/tutorial/hands-on-clock.html"
													class="min-h-8 pl-4 block flex items-center hover:bg-red-100"
									>
										Hands-on: Clock
									</a>
								
							</li>
						
					</ul>
				</nav>
			
		</div>
		<div class="w-full md:w-[50rem]">
			<header class="mx-auto w-full bg-red-700 text-white h-16">
				<ul class="flex items-center h-full">
					<li class="pl-6">
						<a href="/trunk/">Home</a>
					</li>
					<li class="pl-6">
						<a href="/trunk/tutorial">Tutorial</a>
					</li>
				</ul>
			</header>

			<main class="prose prose-headings:text-red-700 pt-4 mx-auto">
				<h1 id="routine-annotations">Routine annotations</h1>
<h2 id="creation-procedures">Creation procedures</h2>
<p>Creation procedures can be used as regular routines as well. Therefore,
AutoProof will verify all creation routines twice, once as creation routines
and once as regular routines. The context of the verification is different for
the two verifications, as for example for creation routines all attributes are
initialized to their default values before the routine is executed.</p>

<p>You can instruct AutoProof to verify a creation routine only once by
adding a <code class="language-plaintext highlighter-rouge">creator</code> annotation. This denotes the routine as being creation-
only and AutoProof will not verify it as a regular routine.</p>

<div class="language-eiffel highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">make</span>
	<span class="k">note</span>
		<span class="n">status</span><span class="pi">:</span> <span class="n">creator</span>
	<span class="k">do</span> <span class="pi">...</span> <span class="k">end</span>
</code></pre></div></div>

<p>Marks <code class="language-plaintext highlighter-rouge">make</code> to be only a creation routine.</p>

<h2 id="functional-functions">Functional functions</h2>
<p>AutoProof supports a special type of function, consisting of only a single
assignment to <code class="language-plaintext highlighter-rouge">Result</code>. To declare such a function you have to add a
<code class="language-plaintext highlighter-rouge">functional</code> annotation to the function. These functions are defined by their
implementation and have an implicit postcondition; given an implementation
<code class="language-plaintext highlighter-rouge">Result := x</code> the implicit postcondition will be <code class="language-plaintext highlighter-rouge">Result = x</code>.</p>

<div class="language-eiffel highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">available_amount</span><span class="pi">:</span> <span class="nc">INTEGER</span>
	<span class="k">note</span>
		<span class="n">status</span><span class="pi">:</span> <span class="n">functional</span>
	<span class="k">do</span>
		<span class="kv">Result</span> <span class="pi">:=</span> <span class="n">balance</span> <span class="o">+</span> <span class="n">credit_limit</span>
	<span class="k">end</span>
</code></pre></div></div>

<p>Marks <code class="language-plaintext highlighter-rouge">available_amount</code> to be <em>functional</em>, therefore only consisting
of a single assignment to <code class="language-plaintext highlighter-rouge">Result</code>.</p>

			</main>

			
				<div class="flex w-[40rem] mx-auto mt-10 mb-10">
					
						<a
							href="/trunk/tutorial/framing.html"
										class="block flex-1 text-red-800 hover:text-red-600 mr-4"
						>
							← Previous page <br>
							<span class="font-bold">Framing</span>
						</a>
					

					
						<div class="w-[1px] self-center h-6 bg-red-800"></div>
					

					
						<a
							href="/trunk/tutorial/debugging-verification.html"
										class="block flex-1 text-red-800 hover:text-red-600 text-right ml-4"
						>
							Next page → <br>
							<span class="font-bold">Debugging verification</span>
						</a>
					
				</div>
			
		</div>

		<div class="flex-1"></div>
  </body>
</html>
